(function(t){function e(e){for(var n,a,o=e[0],c=e[1],u=e[2],p=0,d=[];p<o.length;p++)a=o[p],i[a]&&d.push(i[a][0]),i[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],n=!0,o=1;o<r.length;o++){var c=r[o];0!==i[c]&&(n=!1)}n&&(s.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},i={app:0},s=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"00a2":function(t,e,r){"use strict";var n=r("0cf1"),i=r.n(n);i.a},"0cf1":function(t,e,r){},1527:function(t,e,r){"use strict";var n=r("54c8"),i=r.n(n);i.a},"17cb":function(t,e,r){},"1c0d":function(t,e,r){"use strict";var n=r("81d8"),i=r.n(n);i.a},2075:function(t,e,r){"use strict";var n=r("9f64"),i=r.n(n);i.a},3041:function(t,e,r){},3117:function(t,e,r){"use strict";var n=r("9542"),i=r.n(n);i.a},"37a5":function(t,e,r){"use strict";var n=r("ad18"),i=r.n(n);i.a},"45c3":function(t,e,r){"use strict";var n=r("fc36"),i=r.n(n);i.a},"51bc":function(t,e,r){"use strict";var n=r("80b8"),i=r.n(n);i.a},"54c8":function(t,e,r){},5692:function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("AppNav",{staticClass:"nav-bar"}),r("router-view")],1)},s=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav"},[n("img",{staticClass:"logo",attrs:{alt:"logo",src:r("cf05")},on:{click:t.moveHome}}),n("ul",[n("li",[t.isLoggedUser?n("button",{on:{click:t.doLogout}},[t._v("Logout")]):t._e()]),n("li",[t.isLoggedUser?t._e():n("router-link",{attrs:{to:"/signin"}},[t._v("Sign in")])],1),n("li",[n("router-link",{attrs:{to:"/"}},[t._v("Home")])],1),n("li",[t.isLoggedUser?n("router-link",{attrs:{to:"/user/"+t.isLoggedUser._id}},[t._v("Welcome "+t._s(t.isLoggedUser.firstName))]):t._e()],1)])])},o=[],c={name:"AppNav",computed:{isLoggedUser:function(){return this.$store.getters.loggedUser}},methods:{moveHome:function(){this.$router.push("/")},doLogout:function(){this.$store.dispatch({type:"logout"}),this.$router.push("/")}}},u=c,l=(r("87b1"),r("2877")),p=Object(l["a"])(u,a,o,!1,null,"6ee323c1",null),d=p.exports,m={components:{AppNav:d}},v=m,f=(r("5c0b"),Object(l["a"])(v,i,s,!1,null,null,null)),h=f.exports,g=r("8c4f"),y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[r("header",{staticClass:"home-header"},[r("MainSearch",{staticClass:"welcome",attrs:{msg:"Welcome to uThere"}})],1),r("h2",[t._v("welcome you are in "+t._s(t.cityName))]),r("div",{staticClass:"activities"},[r("ActivityList",{attrs:{cityName:t.cityName}})],1),r("div",{staticClass:"users"},[r("UserList",{attrs:{usersToShow:t.allUsers}})],1),r("div",{staticClass:"cities"},[r("CityList")],1)])},w=[],_=(r("96cf"),r("3b8d")),b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"MainSearch"},[r("h1",[t._v(t._s(t.msg))]),r("p",[t._v("\n    Meet people who love the some activities as you all over the world!\n    ")]),r("div",{staticClass:"searchBlock"},[r("form",{staticClass:"searchBlockTop",on:{submit:function(e){return e.preventDefault(),t.load(e)}}},[r("div",{staticClass:"searchBlockContainer"},[r("div",{staticClass:"SearchInputContainer"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.cityName,expression:"filterBy.cityName"}],staticClass:"SearchInput",attrs:{type:"text",placeholder:"Where are you going?"},domProps:{value:t.filterBy.cityName},on:{input:function(e){e.target.composing||t.$set(t.filterBy,"cityName",e.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.activity,expression:"filterBy.activity"}],staticClass:"SearchInput",attrs:{type:"text",placeholder:"What would you like to do?"},domProps:{value:t.filterBy.activity},on:{input:function(e){e.target.composing||t.$set(t.filterBy,"activity",e.target.value)}}})])]),r("button",{staticClass:"button"},[t._v("Search")])])])])},C=[],x={name:"MainSearch",props:{msg:String},data:function(){return{filterBy:{cityName:"",activity:""}}},created:function(){},methods:{load:function(){this.$router.push({path:"/city/".concat(this.filterBy.cityName),query:{fromSearchBox:"1",activity:this.filterBy.activity}})}}},U=x,$=(r("1c0d"),Object(l["a"])(U,b,C,!1,null,"d74e6c70",null)),N=$.exports,O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"city-list"},t._l(t.cities,function(t,e){return r("CityPreview",{key:e,attrs:{city:t}})}),1)},j=[],k=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.city?r("section",{staticClass:"city-preview",on:{click:t.goToDetails}},[r("img",{attrs:{src:t.city.img_url}}),r("div",{staticClass:"info-panel"},[r("p",{staticClass:"name"},[t._v(t._s(t.city.name))])])]):t._e()},S=[],R=(r("7f7f"),{name:"TheCityPreview",props:["city"],methods:{goToDetails:function(){this.$router.push({path:"/city/".concat(this.city.name),query:{fromSearchBox:"0"}})}}}),B=R,A=(r("fbd0"),Object(l["a"])(B,k,S,!1,null,"7cdd1666",null)),I=A.exports,P={name:"TheCityList",components:{CityPreview:I},computed:{cities:function(){return this.$store.getters.cities}}},L=P,M=(r("1527"),Object(l["a"])(L,O,j,!1,null,"67abb598",null)),q=M.exports,T=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"user-list"},t._l(t.usersToShow,function(t){return r("UserPreview",{key:t._id,attrs:{user:t}})}),1)},E=[],W=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.user?r("section",{staticClass:"user-preview",on:{click:t.goToDetails}},[r("img",{attrs:{src:t.user.img_url}}),r("div",{staticClass:"info-panel"},[r("p",[t._v("Name: "+t._s(t.user.firstName))]),r("p",[t._v("City: "+t._s(t.user.currCity))]),r("p",[t._v("Rank: "+t._s(t.user.rank))]),r("p",[t._v("Meet Count: "+t._s(t.user.meetCount))]),r("p",[t._v("Activities: "+t._s(t.user.activities[0]))]),r("p",[t._v("Replies: "+t._s(t.user.replies))])])]):t._e()},D=[],J={name:"TheUserPreview",props:["user"],methods:{goToDetails:function(){this.$router.push("/user/".concat(this.user._id))}}},F=J,G=(r("bf3c"),Object(l["a"])(F,W,D,!1,null,"54ea998b",null)),H=G.exports,Y={name:"TheUserList",components:{UserPreview:H},props:["usersToShow"]},z=Y,V=(r("ea7c"),Object(l["a"])(z,T,E,!1,null,"819d5fca",null)),K=V.exports,Q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"activity-list"},t._l(t.activities,function(e,n){return r("ActivityPreview",{key:n,attrs:{activity:e,cityName:t.cityName}})}),1)},X=[],Z=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.activity?r("section",{staticClass:"activity-preview",on:{click:t.goToActivity}},[r("img",{attrs:{src:t.activity.img_url}}),r("div",{staticClass:"info-panel"},[r("p",{staticClass:"name"},[t._v(t._s(t.activity.name))])])]):t._e()},tt=[],et={name:"TheActivityPreview",props:["activity","cityName"],methods:{goToActivity:function(){this.$router.push({path:"/activity/".concat(this.activity.name),query:{cityName:this.cityName}})}}},rt=et,nt=(r("af93"),Object(l["a"])(rt,Z,tt,!1,null,"a690f442",null)),it=nt.exports,st={name:"TheActivityList",props:["cityName"],components:{ActivityPreview:it},created:function(){this.$store.dispatch({type:"loadActivityByCity",filterBy:{cityName:this.cityName}})},computed:{activities:function(){return this.$store.getters.activities}}},at=st,ot=(r("669a"),Object(l["a"])(at,Q,X,!1,null,"2fd7e4c7",null)),ct=ot.exports,ut={name:"home",data:function(){return{error:"",lat:"",lng:"",cityName:""}},methods:{showPosition:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.lat=e.coords.latitude,this.lng=e.coords.longitude,t.next=4,this.$store.dispatch({type:"getCityByCord",lat:this.lat,lng:this.lng});case 4:r=t.sent,this.cityName=r;case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},components:{CityList:q,UserList:K,MainSearch:N,ActivityList:ct},computed:{allUsers:function(){return this.$store.getters.users}},created:function(){this.$store.dispatch("loadCities"),this.$store.dispatch("loadUsers"),this.$store.dispatch("loadActivities"),navigator.geolocation?navigator.geolocation.getCurrentPosition(this.showPosition):this.error="Geolocation is not supported."}},lt=ut,pt=(r("7c0c"),Object(l["a"])(lt,y,w,!1,null,"23a7c84c",null)),dt=pt.exports,mt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("div",{staticClass:"main-container"},[r("h1",[r("span",[t._v(t._s(t.cityName))]),t._v(" City\n    ")]),t.activity?r("div",{staticClass:"when-chosen-activity"},[r("h2",[t._v(t._s(t.activity))]),r("UserList",{attrs:{usersToShow:t.activityUsers}}),r("h2",[t._v("Dive")]),r("UserList",{attrs:{usersToShow:t.diveUsers}}),r("h2",[t._v("Fly")]),r("UserList",{attrs:{usersToShow:t.flyUsers}})],1):r("div",{staticClass:"default-activities"},[r("h2",[t._v("Drink coffee with friends")]),r("UserList",{attrs:{usersToShow:t.coffeeUsers}}),r("h2",[t._v("Walk")]),r("UserList",{attrs:{usersToShow:t.walkUsers}}),r("h2",[t._v("Run")]),r("UserList",{attrs:{usersToShow:t.runUsers}})],1)])])},vt=[],ft=(r("6762"),r("2fdb"),{name:"TheCityView",components:{UserList:K},data:function(){return{cityName:"",activity:"",fromSearchBox:!1}},computed:{coffeeUsers:function(){return console.log(this.$store.getters.users),this.filterUsersByActivity("Drink coffee with a friend")},walkUsers:function(){return this.filterUsersByActivity("Walk")},runUsers:function(){return this.filterUsersByActivity("Run")},activityUsers:function(){return this.filterUsersByActivity(this.activity)},diveUsers:function(){return this.filterUsersByActivity("Dive")},flyUsers:function(){return this.filterUsersByActivity("Fly")}},methods:{filterUsersByActivity:function(t){return this.$store.getters.users.filter(function(e){return e.activities.includes(t)})}},created:function(){this.cityName=this.$route.params.cityName,this.fromSearchBox="1"===this.$route.query.fromSearchBox,this.activity=this.$route.query.activity,this.$store.dispatch({type:"loadUsersByCity",filterBy:{cityName:this.cityName}})}}),ht=ft,gt=(r("849c"),Object(l["a"])(ht,mt,vt,!1,null,"5659c66c",null)),yt=gt.exports,wt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"wrapper"},[r("div",{staticClass:"side-bar"},[r("p",[t._v("I'm the side bar")]),r("inbox-nav")],1),r("div",{staticClass:"msg-container"},[r("p",[t._v("I'm the container for msgs")]),r("router-view")],1)])},_t=[],bt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("ul",[r("li",[r("router-link",{attrs:{exact:"",to:"/inbox/:userId/chats"}},[t._v("Messages")])],1),r("li",[t._v("Upcoming")])])])},Ct=[],xt={data:function(){return{chats:[]}}},Ut=xt,$t=Object(l["a"])(Ut,bt,Ct,!1,null,null,null),Nt=$t.exports,Ot={components:{InboxNav:Nt},data:function(){return{chats:[]}}},jt=Ot,kt=(r("3117"),Object(l["a"])(jt,wt,_t,!1,null,null,null)),St=kt.exports,Rt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("ul",t._l(t.pairingChatUsers,function(e,n){return r("li",{key:n,attrs:{chat:e.chat,userWith:e.userWith}},[r("chat-preview",{attrs:{chat:e.chat,userWith:e.userWith}}),r("router-link",{staticClass:"link",attrs:{to:"/inbox/:userId/"+e.chat._id}},[t._v("Read")])],1)}),0)])},Bt=[],At=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.userWith&&t.chat?r("div",[r("img",{staticClass:"chat-img",attrs:{src:""+t.userWith.img_url,alt:"user-img"}}),t._v("\n    "+t._s(t.userWith.firstName)+" "+t._s(t.userWith.lastName)+"\n")]):t._e()},It=[],Pt={props:["chat","userWith"],data:function(){return{}}},Lt=Pt,Mt=(r("51bc"),Object(l["a"])(Lt,At,It,!1,null,null,null)),qt=Mt.exports,Tt={data:function(){return{}},methods:{},computed:{userChats:function(){return this.$store.getters.userChats},userChatsWith:function(){return this.$store.getters.userChatsWith},pairingChatUsers:function(){var t=this;return this.userChats.map(function(e,r){return{chat:e,userWith:t.userChatsWith[r]}})}},created:function(){this.$store.dispatch("loadUserChatRooms")},components:{ChatPreview:qt}},Et=Tt,Wt=(r("2075"),Object(l["a"])(Et,Rt,Bt,!1,null,null,null)),Dt=Wt.exports,Jt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("ul",t._l(t.chatRoom.msgs,function(e){return r("li",{key:e._id},[t._v(t._s(e.txt))])}),0),r("form",{staticClass:"send",on:{submit:function(e){return e.preventDefault(),t.addMsg(t.newMsg)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.newMsg.txt,expression:"newMsg.txt"}],attrs:{newMsg:t.setType("txt"),type:"text",placeholder:"Write something...",name:"",id:""},domProps:{value:t.newMsg.txt},on:{input:function(e){e.target.composing||t.$set(t.newMsg,"txt",e.target.value)}}}),r("button",{attrs:{type:"submit"}},[t._v("Send")])])])},Ft=[],Gt=(r("8e6e"),r("ac6a"),r("456d"),r("bd86"));function Ht(t,e){var r=Object.keys(t);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(t)),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r}function Yt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ht(r,!0).forEach(function(e){Object(Gt["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ht(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var zt={data:function(){return{chatPrms:null,newMsg:{_id:null,addedBy:null,txt:null,type:null,sentAt:null,isRead:!1}}},methods:{addMsg:function(t){t.sentAt=Date.now();var e=Yt({},t);this.$store.dispatch("addMsg",{addedMsg:e}),t.txt=null},setType:function(t){this.newMsg.type=t}},computed:{chatRoom:function(){return this.$store.getters.chatRoom},chatWith:function(){return this.$store.getters.chatWith}},created:function(){this.$route.params.chatRoomId,this.chatPrms=this.$route.params.chatRoomId,this.$store.dispatch("loadChat",{chatRoomId:this.chatPrms})}},Vt=zt,Kt=(r("b17a"),Object(l["a"])(Vt,Jt,Ft,!1,null,null,null)),Qt=Kt.exports,Xt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mainContainer"},[r("div",{staticClass:"detailsList"},[r("h1",[t._v(t._s(t.user.firstName+" "+t.user.lastName))]),r("img",{staticClass:"userSmallImg",attrs:{src:t.user.img_url,alt:""}}),r("h3",[t._v("from: "+t._s(t.user.currCity))]),r("h3",[t._v("like to: "+t._s(t.user.activities[0]))]),r("h3",[t._v("languages: "+t._s(t.user.languages[0]))]),r("modal",{ref:"modal"}),t.loggedUser&&t.loggedUser._id===t.user._id?r("button",[t._v("Edit")]):r("button",{on:{click:t.openModal}},[t._v("Contact me")])],1),r("div",{staticClass:"detailsMain"},[r("h2",[t._v("Hi There! Nice to meet you")]),r("p",[t._v("\n      Lorem ipsum dolor sit amet\n      consectetur, adipisicing elit.\n      Illum similique quos veritatis\n      consequuntur molestias recusandae assumenda odit\n      sapiente officia eius id esse,\n      consectetur libero inventore at rem,\n      ad harum corporis.\n    ")]),r("p",[t._v("what we can do together:")]),t.user.reviews.length?r("div",[r("p",[t._v("Reviews:")]),r("p",[t._v(t._s(t.user.reviews[0].title))]),r("p",[t._v(t._s(t.user.reviews[0].txt))]),r("p",[t._v("addedBy :"+t._s(t.user.reviews[0].addedBy))]),r("p",[t._v("createdAt :"+t._s(t.user.reviews[0].createdAt))]),r("p",[t._v("rating: "+t._s(t.user.reviews[0].rating))])]):t._e()])])},Zt=[],te=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.showModal?r("section",{staticClass:"modal"},[r("div",{staticClass:"modal",attrs:{id:"modal"}},[r("div",{staticClass:"overlay"}),r("div",{staticClass:"modal_content"},[r("h2",[t._v("Your message")]),t._m(0),r("textarea",{attrs:{rows:"4",cols:"50"}}),r("button",{staticClass:"send",on:{click:t.send}},[t._v("Send")]),r("button",{staticClass:"close_modal",attrs:{title:"Close"},on:{click:t.hide}},[r("i",{staticClass:"fas fa-times"})])])])]):t._e()},ee=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{attrs:{action:"/action_page.php"}},[t._v("\n       choose when to meet: "),r("input",{attrs:{type:"date",name:"bday"}}),r("input",{attrs:{type:"submit"}})])}],re={name:"modal",data:function(){return{showModal:!1}},components:{},methods:{toggleAboutModal:function(){this.isModal=!this.isModal},show:function(){this.showModal=!0},hide:function(){this.showModal=!1}},computed:{}},ne=re,ie=(r("37a5"),Object(l["a"])(ne,te,ee,!1,null,"a5cb1e40",null)),se=ie.exports,ae={name:"userDetails",data:function(){return{user:{_id:null,firstName:"",lastName:"",activities:[],reviews:[],img_url:"",currCity:"",languages:[]}}},computed:{loggedUser:function(){return this.$store.getters.loggedUser}},created:function(){var t=this,e=this.$route.params.userId;this.$store.dispatch({type:"loadUsers"}).then(function(){e?t.user=JSON.parse(JSON.stringify(t.$store.getters.userById(e))):t.$router.push("/user")})},methods:{openModal:function(){this.$refs.modal.show()}},components:{modal:se}},oe=ae,ce=(r("d54c"),Object(l["a"])(oe,Xt,Zt,!1,null,"3ee65d31",null)),ue=ce.exports,le=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"EditUser"},[r("div",{staticClass:"edit-user"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.saveUser(e)}}},[r("div",[r("label",[t._v("City:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.currCity,expression:"user.currCity"}],attrs:{type:"text"},domProps:{value:t.user.currCity},on:{input:function(e){e.target.composing||t.$set(t.user,"currCity",e.target.value)}}})]),r("div",[r("label",[t._v("Activities:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.Activities,expression:"user.Activities"}],attrs:{type:"text"},domProps:{value:t.user.Activities},on:{input:function(e){e.target.composing||t.$set(t.user,"Activities",e.target.value)}}})]),r("div",[r("label",[t._v("Languages:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.languages,expression:"user.languages"}],attrs:{type:"text"},domProps:{value:t.user.languages},on:{input:function(e){e.target.composing||t.$set(t.user,"languages",e.target.value)}}})]),r("button",{staticClass:"btnSaveUser"},[t._v("Save")])])])])},pe=[],de={name:"EditUser",data:function(){return{user:{currCity:""}}},created:function(){var t=this,e=this.$store.state.loggedInUser;this.$store.dispatch({type:"loadUsers"}).then(function(){e&&(t.user=JSON.parse(JSON.stringify(t.$store.getters.userById(e))))})},methods:{saveUser:function(){this.$router.push("/")}},computed:{},components:{}},me=de,ve=(r("45c3"),Object(l["a"])(me,le,pe,!1,null,"ab3c3cc6",null)),fe=ve.exports,he=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"login-or-signin"},[r("h1",[t._v("Login")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.loginCred.email,expression:"loginCred.email"}],attrs:{type:"text",placeholder:"email",required:""},domProps:{value:t.loginCred.email},on:{input:function(e){e.target.composing||t.$set(t.loginCred,"email",e.target.value)}}}),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.loginCred.password,expression:"loginCred.password"}],attrs:{type:"text",placeholder:"password",required:""},domProps:{value:t.loginCred.password},on:{input:function(e){e.target.composing||t.$set(t.loginCred,"password",e.target.value)}}}),r("br"),r("button",{on:{click:t.doLogin}},[t._v("Login")]),r("hr"),r("h2",[t._v("Signup")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.email,expression:"signupCred.email"}],attrs:{type:"text",placeholder:"email",required:""},domProps:{value:t.signupCred.email},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"email",e.target.value)}}}),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.password,expression:"signupCred.password"}],attrs:{type:"text",placeholder:"password",required:""},domProps:{value:t.signupCred.password},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"password",e.target.value)}}}),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.firstName,expression:"signupCred.firstName"}],attrs:{type:"text",placeholder:"first name",required:""},domProps:{value:t.signupCred.firstName},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"firstName",e.target.value)}}}),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.lastName,expression:"signupCred.lastName"}],attrs:{type:"text",placeholder:"last name",required:""},domProps:{value:t.signupCred.lastName},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"lastName",e.target.value)}}}),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.activity,expression:"signupCred.activity"}],attrs:{type:"text",placeholder:"activity"},domProps:{value:t.signupCred.activity},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"activity",e.target.value)}}}),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.currCity,expression:"signupCred.currCity"}],attrs:{type:"text",placeholder:"current city",required:""},domProps:{value:t.signupCred.currCity},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"currCity",e.target.value)}}}),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.language,expression:"signupCred.language"}],attrs:{type:"text",placeholder:"language",required:""},domProps:{value:t.signupCred.language},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"language",e.target.value)}}}),r("br"),r("button",{on:{click:t.doSignup}},[t._v("Signup")]),r("hr")])},ge=[],ye={name:"loginOrSign",data:function(){return{loginCred:{},signupCred:{}}},methods:{doLogin:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.loginCred,e.email&&e.password){t.next=3;break}return t.abrupt("return",this.msg="Missing parameters");case 3:return t.next=5,this.$store.dispatch({type:"login",userCred:e});case 5:r=t.sent,console.log(r),this.$router.push({path:"/city/".concat(r.currCity),query:{activity:r.activities[0]}});case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),doSignup:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.signupCred,e.email&&e.password&&e.firstName&&e.lastName&&e.activity&&e.currCity&&e.language){t.next=3;break}return t.abrupt("return",this.msg="Missing parameters");case 3:return t.next=5,this.$store.dispatch({type:"signup",userCred:e});case 5:r=t.sent,this.$router.push({path:"/city/".concat(r.currCity),query:{activity:r.activities[0]}});case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},we=ye,_e=(r("00a2"),Object(l["a"])(we,he,ge,!1,null,"2c860dfe",null)),be=_e.exports,Ce=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("div",{staticClass:"main-container"},[r("h1",[r("span",[t._v(t._s(t.activityName))])]),r("UserList",{attrs:{usersToShow:t.activityUsers}})],1)])},xe=[],Ue={name:"TheActivityView",components:{UserList:K},data:function(){return{activityName:"",activity:"",cityName:""}},computed:{activityUsers:function(){return console.log("I am in hereeeeeeeee"),console.log("herokuuuu",this.$store.getters.users),this.$store.getters.users}},methods:{filterUsersByActivity:function(t){return this.$store.getters.users.filter(function(e){return e.activities.includes(t)})}},created:function(){this.activityName=this.$route.params.activityName,this.cityName=this.$route.query.cityName,this.$store.dispatch({type:"loadUsersByActivity",filterBy:{activityName:this.activityName,cityName:this.cityName}})}},$e=Ue,Ne=(r("aea4"),Object(l["a"])($e,Ce,xe,!1,null,"087f19f7",null)),Oe=Ne.exports;n["a"].use(g["a"]);var je=new g["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:dt},{path:"/signin",name:"login-or-sign",component:be},{path:"/city/:cityName",name:"city-view",component:yt},{path:"/activity/:activityName",name:"activity-view",component:Oe},{path:"/user/edit/:userId?",name:"edit-user",component:fe},{path:"/user/:userId",name:"user-details",component:ue},{path:"/inbox/:userId",name:"user-inbox",component:St,children:[{path:"chats",component:Dt},{path:":chatRoomId",component:Qt}]}]}),ke=r("2f62"),Se=r("bc3a"),Re=r.n(Se),Be="/",Ae=Re.a.create({withCredentials:!0});function Ie(t){return Pe.apply(this,arguments)}function Pe(){return Pe=Object(_["a"])(regeneratorRuntime.mark(function t(e){var r,n,i,s,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:"get",n=a.length>2&&void 0!==a[2]?a[2]:null,i=a.length>3?a[3]:void 0,console.log("ppp",e,r,n,i),t.next=6,Ae({url:"".concat(Be).concat(e),method:r,data:n,params:i});case 6:return s=t.sent,t.abrupt("return",s.data);case 8:case"end":return t.stop()}},t)})),Pe.apply(this,arguments)}var Le={ajax:Ie},Me={query:qe};function qe(t,e){return Te.apply(this,arguments)}function Te(){return Te=Object(_["a"])(regeneratorRuntime.mark(function t(e,r){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Le.ajax("api/city");case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t["catch"](0),r.status(401).send({error:t.t0});case 10:case"end":return t.stop()}},t,null,[[0,7]])})),Te.apply(this,arguments)}var Ee={getReverseGeocode:We};function We(t,e){return De.apply(this,arguments)}function De(){return De=Object(_["a"])(regeneratorRuntime.mark(function t(e,r){var n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Re.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(e,",").concat(r,"&key=AIzaSyDp8q5Y7KiWO6Pg-0t2OiYniFD5vNvDAGY"));case 2:return n=t.sent,i=n.data.results[0].address_components[2].long_name,t.abrupt("return",i);case 5:case"end":return t.stop()}},t)})),De.apply(this,arguments)}var Je={state:{cities:[]},getters:{cities:function(t){return t.cities}},mutations:{setCities:function(t,e){var r=e.cities;t.cities=r}},actions:{loadCities:function(t){Me.query().then(function(e){return t.commit({type:"setCities",cities:e})})},loadCitiesByFilters:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e,r){var n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=r.filterBy,t.next=3,Me.query(n);case 3:i=t.sent,e.commit({type:"setCities",cities:i});case 5:case"end":return t.stop()}},t)}));function e(e,r){return t.apply(this,arguments)}return e}(),getCityByCord:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e,r){var n,i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=r.lat,i=r.lng,console.log(n,i),t.next=4,Ee.getReverseGeocode(n,i);case 4:return s=t.sent,console.log("cityFromCord",s),t.abrupt("return",s);case 7:case"end":return t.stop()}},t)}));function e(e,r){return t.apply(this,arguments)}return e}()}},Fe=(r("7514"),{query:ze,getById:Xe,update:He,queryActivities:Ke,login:tr,logout:ir,signup:rr,getLoggedUser:sr,setLoggedUserSessionStorage:ar}),Ge=JSON.parse(sessionStorage.getItem("loggedUser"));function He(){return Ye.apply(this,arguments)}function Ye(){return Ye=Object(_["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)})),Ye.apply(this,arguments)}function ze(){return Ve.apply(this,arguments)}function Ve(){return Ve=Object(_["a"])(regeneratorRuntime.mark(function t(){var e,r,n=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{},console.log(e),t.next=4,Le.ajax("api/user","get",null,e);case 4:return r=t.sent,t.abrupt("return",r);case 6:case"end":return t.stop()}},t)})),Ve.apply(this,arguments)}function Ke(t){return Qe.apply(this,arguments)}function Qe(){return Qe=Object(_["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("eze mashho ",e),t.next=3,Le.ajax("api/user/activities","get",null,e);case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}},t)})),Qe.apply(this,arguments)}function Xe(t){return Ze.apply(this,arguments)}function Ze(){return Ze=Object(_["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Le.ajax("api/user/".concat(e));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}},t)})),Ze.apply(this,arguments)}function tr(t){return er.apply(this,arguments)}function er(){return er=Object(_["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Le.ajax("api/auth/login","post",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),er.apply(this,arguments)}function rr(t){return nr.apply(this,arguments)}function nr(){return nr=Object(_["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,Le.ajax("api/auth/signup","post",e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)})),nr.apply(this,arguments)}function ir(){Le.ajax("api/auth/logout","post").then(function(t){return console.log(t)})}function sr(){return Ge}function ar(t){sessionStorage.setItem("loggedUser",JSON.stringify(t))}var or={state:{users:[],loggedUser:Fe.getLoggedUser()},getters:{users:function(t){return t.users},userById:function(t){return function(e){return t.users.find(function(t){return t._id===e})}},loggedUser:function(t){return t.loggedUser}},mutations:{setUsers:function(t,e){var r=e.users;t.users=r},addUser:function(t,e){var r=e.addedUser;t.users.unshift(r)},updateLoggedInUser:function(t,e){var r=e.loggedInUser;t.loggedUser=r,Fe.setLoggedUserSessionStorage(r)},updateLoggedInUserId:function(t,e){var r=e.loggedInUser;t.loggedInUserId=r._id}},actions:{loadUsers:function(t){Fe.query().then(function(e){return t.commit({type:"setUsers",users:e})})},loadUsersByCity:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e,r){var n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=r.filterBy,t.next=3,Fe.query(n);case 3:i=t.sent,e.commit({type:"setUsers",users:i});case 5:case"end":return t.stop()}},t)}));function e(e,r){return t.apply(this,arguments)}return e}(),loadUsersByActivity:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e,r){var n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=r.filterBy,t.next=3,Fe.query(n);case 3:i=t.sent,e.commit({type:"setUsers",users:i});case 5:case"end":return t.stop()}},t)}));function e(e,r){return t.apply(this,arguments)}return e}(),updateUser:function(t,e){var r=e.user;return Fe.update(r).then(function(e){return t.commit({type:"updateUser",updatedUser:e}),e})},login:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e,r){var n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=r.userCred,t.next=3,Fe.login(n);case 3:return i=t.sent,e.commit({type:"updateLoggedInUser",loggedInUser:i}),e.commit({type:"updateLoggedInUserId",loggedInUser:i}),t.abrupt("return",i);case 7:case"end":return t.stop()}},t)}));function e(e,r){return t.apply(this,arguments)}return e}(),signup:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e,r){var n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=r.userCred,t.next=3,Fe.signup(n);case 3:return i=t.sent,e.commit({type:"addUser",addedUser:i}),e.commit({type:"updateLoggedInUser",loggedInUser:i}),e.commit({type:"updateLoggedInUserId",loggedInUser:i}),t.abrupt("return",i);case 8:case"end":return t.stop()}},t)}));function e(e,r){return t.apply(this,arguments)}return e}(),logout:function(t){Fe.logout(),t.commit({type:"updateLoggedInUser",loggedInUser:null})}}},cr=r("7cbd"),ur=r.n(cr),lr={query:pr};function pr(){return dr.apply(this,arguments)}function dr(){return dr=Object(_["a"])(regeneratorRuntime.mark(function t(){var e,r,n=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{},console.log(e),t.next=4,Le.ajax("api/activity/","get",null,e);case 4:return r=t.sent,t.abrupt("return",r);case 6:case"end":return t.stop()}},t)})),dr.apply(this,arguments)}var mr={state:{activities:[]},getters:{activities:function(t){return t.activities}},mutations:{setActivities:function(t,e){var r=e.activities;t.activities=r}},actions:{loadActivities:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,lr.query();case 2:r=t.sent,e.commit({type:"setActivities",activities:r});case 4:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),loadActivityByCity:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e,r){var n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=r.filterBy,t.next=3,lr.query(n);case 3:i=t.sent,e.commit({type:"setActivities",activities:i});case 5:case"end":return t.stop()}},t)}));function e(e,r){return t.apply(this,arguments)}return e}()}};n["a"].use(ke["a"]);var vr=new ke["a"].Store({state:{},mutations:{},actions:{},modules:{CityStore:Je,UserStore:or,ChatStore:ur.a,ActivityStore:mr}}),fr=r("9483");Object(fr["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),n["a"].config.productionTip=!1,new n["a"]({router:je,store:vr,render:function(t){return t(h)}}).$mount("#app")},"5c0b":function(t,e,r){"use strict";var n=r("5e27"),i=r.n(n);i.a},"5e27":function(t,e,r){},"669a":function(t,e,r){"use strict";var n=r("6f3e"),i=r.n(n);i.a},"6f3e":function(t,e,r){},"7c0c":function(t,e,r){"use strict";var n=r("aebc"),i=r.n(n);i.a},"7cbd":function(t,e){},"80b8":function(t,e,r){},"81d8":function(t,e,r){},"81e9":function(t,e,r){},"849c":function(t,e,r){"use strict";var n=r("81e9"),i=r.n(n);i.a},"87b1":function(t,e,r){"use strict";var n=r("abfe"),i=r.n(n);i.a},9542:function(t,e,r){},"9f64":function(t,e,r){},ab20:function(t,e,r){},abfe:function(t,e,r){},ad18:function(t,e,r){},aea4:function(t,e,r){"use strict";var n=r("3041"),i=r.n(n);i.a},aebc:function(t,e,r){},af93:function(t,e,r){"use strict";var n=r("5692"),i=r.n(n);i.a},b17a:function(t,e,r){"use strict";var n=r("ab20"),i=r.n(n);i.a},bf3c:function(t,e,r){"use strict";var n=r("f46a"),i=r.n(n);i.a},cf05:function(t,e,r){t.exports=r.p+"img/logo.e4595a89.png"},d3df:function(t,e,r){},d54c:function(t,e,r){"use strict";var n=r("17cb"),i=r.n(n);i.a},ea5f:function(t,e,r){},ea7c:function(t,e,r){"use strict";var n=r("d3df"),i=r.n(n);i.a},f46a:function(t,e,r){},fbd0:function(t,e,r){"use strict";var n=r("ea5f"),i=r.n(n);i.a},fc36:function(t,e,r){}});
//# sourceMappingURL=app.c6754c4d.js.map